{
    "parameters" : {
        "hw.servermodel" : "ProLiant XL270d Gen9",
        "exp.status" : "disabled",
        "exp.num_warmup_batches" : 10,
        "exp.num_batches" : 100,
        "exp.device_type" : "gpu",
		"exp.backend" : "nvidia_caffe",
		"exp.framework" : "nvidia_caffe",
		"exp.framework_family" : "caffe",
        "exp.framework_title" : "NVIDIA Caffe",
        "exp.log_file" : "${BENCH_ROOT}/${exp.framework}/p100_pcie_xl270d_gen9/nvcr/${exp.data}/${exp.dtype}/${exp.model}_${exp.replica_batch}_$(\"${exp.gpus}\".replace(\",\",\".\"))$_${exp.trial}.log",
        "exp.docker" : true,
        "exp.docker_args" : "--rm --shm-size=1g --ulimit memlock=-1 --ulimit stack=67108864",
        "exp.phase" : "training",
        "monitor.frequency" : 5 ,
        "nvidia_caffe.docker_image" : "nvcr.io/nvidia/caffe:18.01-py2",
        "exp.sys_info" : "inxi,cpuinfo,meminfo,lscpu,nvidiasmi"
    },
    "variables" : {
        "exp.replica_batch" : [8,16,32,64,128,256,512,1024,2048],
        "exp.gpus" : ["0","0,1","0,1,2,3","0,1,2,3,4,5,6,7"],
        "exp.trial" : [0,1],
        "exp.model" : ["alexnet", "googlenet", "inception3", "resnet50"],
        "exp.dtype" : ["float32","float16"],
        "exp.data" : ["real","synthetic"]
    },
    "extensions" : [
        {"condition":{"exp.model" : "alexnet", "exp.replica_batch":[256,512]},"parameters":{"exp.status":""}},
        {"condition":{"exp.model" : "alexnet_owt", "exp.replica_batch":[256,512]},"parameters":{"exp.status":""}},
        {"condition":{"exp.model" : "googlenet", "exp.replica_batch":[128, 64]},"parameters":{"exp.status":""}},
        {"condition":{"exp.model" : "inception3", "exp.replica_batch":[32,64]},"parameters":{"exp.status":""}},
        {"condition":{"exp.model" : "resnet50", "exp.replica_batch":[16,32]},"parameters":{"exp.status":""}},
        {"condition":{"exp.model" : "resnet152", "exp.replica_batch":[16]},"parameters":{"exp.status":""}},
        {"condition":{"exp.model" : "vgg16", "exp.replica_batch":[64,32]},"parameters":{"exp.status":""}},
        {"condition":{"exp.data"  : "real","exp.model": "inception3"}, 
                      "parameters":{
                          "caffe.data_backend": "LMDB",
                          "caffe.data_dir": "/lvol/sfleisch/ilsvrc12_data_300x300/ilsvrc12_train_lmdb",
                          "caffe.data_mean_file": "/lvol/sfleisch/ilsvrc12_data_300x300/imagenet_mean.binaryproto"
                      }
        },
        {"condition":{"exp.data"  : "real","exp.model": "alexnet"}, 
                      "parameters":{
                          "caffe.data_backend": "LMDB",
                          "caffe.data_dir": "/lvol/sfleisch/ilsvrc12_data/ilsvrc12_train_lmdb",
                          "caffe.data_mean_file": "/lvol/sfleisch/ilsvrc12_data/imagenet_mean.binaryproto"
                      }
        },
        {"condition":{"exp.data"  : "real","exp.model": "alexnet_owt"}, 
                      "parameters":{
                          "caffe.data_backend": "LMDB",
                          "caffe.data_dir": "/lvol/sfleisch/ilsvrc12_data/ilsvrc12_train_lmdb",
                          "caffe.data_mean_file": "/lvol/sfleisch/ilsvrc12_data/imagenet_mean.binaryproto"
                      }
        },
        {"condition":{"exp.data"  : "real","exp.model": "googlenet"}, 
                      "parameters":{
                          "caffe.data_backend": "LMDB",
                          "caffe.data_dir": "/lvol/sfleisch/ilsvrc12_data/ilsvrc12_train_lmdb",
                          "caffe.data_mean_file": "/lvol/sfleisch/ilsvrc12_data/imagenet_mean.binaryproto"
                      }
        },
        {"condition":{"exp.data"  : "real","exp.model": "resnet50"}, 
                      "parameters":{
                          "caffe.data_backend": "LMDB",
                          "caffe.data_dir": "/lvol/sfleisch/ilsvrc12_data/ilsvrc12_train_lmdb",
                          "caffe.data_mean_file": "/lvol/sfleisch/ilsvrc12_data/imagenet_mean.binaryproto"
                      }
        },
        {"condition":{"exp.data"  : "real","exp.model": "vgg16"}, 
                      "parameters":{
                          "caffe.data_backend": "LMDB",
                          "caffe.data_dir": "/lvol/sfleisch/ilsvrc12_data/ilsvrc12_train_lmdb",
                          "caffe.data_mean_file": "/lvol/sfleisch/ilsvrc12_data/imagenet_mean.binaryproto"
                      }
        }
     ]
}
